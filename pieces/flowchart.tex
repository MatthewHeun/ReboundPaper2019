% The next command tells RStudio to do "Compile PDF" on book.Rnw,
% instead of this chapter, thereby eliminating the need to switch back to book.Rnw 
% before making the book.
%!TEX root = ../HSB.Rnw

\begin{tikzpicture}%[font=\sffamily]
  % Set up the nodes of the main path
  \node(orig) at (0cm,0cm) {\strut original};
  \node[right=0.2cm of orig] (dev)[rounded corners, fill=\devcolor] {\strut device};
  \node[right=0.2cm of dev] (prime) {$\adev{}$};
  \node[right=0.2cm of prime] (lc)[align=center, rounded corners, fill=\lccolor] {\strut lifecycle};
  \node[right=0.2cm of lc] (star) {$\alc{}$};
  \node[right=0.2cm of star] (sub)[rounded corners, fill=\subcolor] {\strut substitution};
  \node[right=0.2cm of sub] (hat) {$\asub{~}$};
  \node[right=0.2cm of hat] (inc)[rounded corners, fill=\inccolor] {\strut income};
  \node[right=0.2cm of inc] (bar) {$\ainc{~}$};
  \node[right=0.2cm of bar] (prod)[rounded corners, fill=\prodcolor] {\strut productivity};
  \node[right=0.2cm of prod] (tilde) {$\aprod{~}$};
  % Draw arrows between main row boxes
  \draw[->] (orig) -- (dev);
  \draw[->] (dev) -- (prime);
  \draw[->] (prime) -- (lc);
  \draw[->] (lc) -- (star);
  \draw[->] (star) -- (sub);
  \draw[->] (sub) -- (hat);
  \draw[->] (hat) -- (inc);
  \draw[->] (inc) -- (bar);
  \draw[->] (bar) -- (prod);
  \draw[->] (prod) -- (tilde);
  % Add nodes for rebound terms beneath nodes
  \node[below=0.1cm of dev] {$Re_{dev} = 0$};
  \node[below=0.1cm of lc] {$Re_{\life}$};
  \node[below=0.1cm of sub] {$Re_{sub}$};
  \node[below=0.1cm of inc] {$Re_{inc}$};
  \node[below=0.1cm of prod] {$Re_{\productivity}$};
  % Add nodes for rebound terms above nodes
  \node[above=0.1cm of lc] {\footnotesize $Re_{emb}$,$Re_{\OMd}$};
  \node[above=0.1cm of sub] {\footnotesize $Re_{dsub}$,$Re_{isub}$};
  \node[above=0.1cm of inc] {\footnotesize $Re_{dinc}$,$Re_{iinc}$,$Re_{cap}$};
  % Add nodes for spelled-out decorations beneath nodes
  \node[below=0.715cm of orig] {no decoration};
  \node[below=0.9cm of prime] {prime};
  \node[below=0.9cm of star] {star};
  \node[below=0.9cm of hat] {hat};
  \node[below=0.9cm of bar] {bar};
  \node[below=0.9cm of tilde] {tilde};
  % Add nodes for N_dot terms above decorations
  % \node[above=0.715cm of orig] {$\rorig{N} = 0$};
  % \node[above=0.9cm of prime] {$\radev{N}$};
  % \node[above=0.9cm of star] {$\ralc{N}$};
  % \node[above=0.9cm of hat] {$\rasub{N}$};
  % \node[above=0.9cm of bar] {$\rainc{N} = 0$};
  % Add nodes for eta terms above decorations
  % \node[above=1.52cm of orig] {$\eta$};
  % \node[above=1.7cm of prime] {$\adev{\eta} = \aprod{\eta}$};
  % \node[above=1.7cm of star] {$\alc{\eta} = \aprod{\eta}$};
  % \node[above=1.7cm of hat] {$\asub{\eta} = \aprod{\eta}$};
  % \node[above=1.7cm of bar] {$\ainc{\eta} = \aprod{\eta}$};
  % \node[above=1.7cm of tilde] {$\aprod{\eta}$};
\end{tikzpicture}

